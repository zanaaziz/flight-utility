/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package Ryanpack;

import java.awt.Cursor;
import java.awt.Font;
import java.awt.font.TextAttribute;
import java.io.BufferedReader;
import java.io.FileNotFoundException;
import java.io.FileReader;
import java.io.IOException;
import java.util.Map;
import java.util.Scanner;
import javax.swing.JOptionPane;

public class Home extends javax.swing.JFrame {
    
    Admin adminUI = new Admin();
    
    //@reference https://www.youtube.com/watch?v=2nk4rZgqdu0
    public Home() {
        initComponents();
        
        adminUI.addPaddingToJTextField(userIdFld);
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        welcomeLbl = new javax.swing.JLabel();
        instructionsLbl = new javax.swing.JLabel();
        userIdFld = new javax.swing.JTextField();
        searchBtn = new javax.swing.JButton();
        adminLbl = new javax.swing.JLabel();
        backBtn = new javax.swing.JButton();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        setTitle("Ryanair - Welcome");
        setResizable(false);

        welcomeLbl.setFont(new java.awt.Font("Lucida Grande", 0, 24)); // NOI18N
        welcomeLbl.setText("Welcome to the Ryanair flight utility! ");

        instructionsLbl.setText("Please enter your flight ID:");

        userIdFld.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                userIdFldActionPerformed(evt);
            }
        });

        searchBtn.setText("Search");
        searchBtn.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                searchBtnActionPerformed(evt);
            }
        });

        adminLbl.setForeground(java.awt.Color.blue);
        adminLbl.setText("Click here to access admin tools");
        adminLbl.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseReleased(java.awt.event.MouseEvent evt) {
                adminLblMouseReleased(evt);
            }
            public void mouseExited(java.awt.event.MouseEvent evt) {
                adminLblMouseExited(evt);
            }
            public void mouseEntered(java.awt.event.MouseEvent evt) {
                adminLblMouseEntered(evt);
            }
        });

        backBtn.setText("Exit");
        backBtn.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                backBtnActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(userIdFld)
                    .addGroup(layout.createSequentialGroup()
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                            .addComponent(welcomeLbl, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(instructionsLbl, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 51, Short.MAX_VALUE)
                        .addComponent(backBtn))
                    .addComponent(searchBtn, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                        .addGap(0, 0, Short.MAX_VALUE)
                        .addComponent(adminLbl)))
                .addContainerGap())
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(welcomeLbl)
                    .addComponent(backBtn, javax.swing.GroupLayout.PREFERRED_SIZE, 50, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addComponent(instructionsLbl)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(userIdFld, javax.swing.GroupLayout.PREFERRED_SIZE, 52, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addComponent(searchBtn, javax.swing.GroupLayout.PREFERRED_SIZE, 50, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 14, Short.MAX_VALUE)
                .addComponent(adminLbl)
                .addContainerGap())
        );

        pack();
        setLocationRelativeTo(null);
    }// </editor-fold>//GEN-END:initComponents

    private void userIdFldActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_userIdFldActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_userIdFldActionPerformed

    private void searchBtnActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_searchBtnActionPerformed
        // TODO add your handling code here:
        //@reference: https://www.youtube.com/watch?v=vP3lnY-MUu0
        //Scanner to ask the user for the name of the file.
        //The file name is will be placed in the flight id text field
        Scanner scanner = new Scanner(userIdFld.getText());
        
        //set to null because we dont know what the file is until the user types it
        BufferedReader buffRead = null;
        
        //variable that stores each line that is read as the programs loops through
        String line;     
        
        //A try catch is used if the programs runs into an error such as the file not being found it will catch the error and print it
        try{
            //the buffered reader is called then the filereader is also called to locate the file and read its name
            //scanner.next to read the next string 
            buffRead = new BufferedReader(new FileReader("C:\\Users\\ayofo\\Documents\\GitHub\\ryanair-project\\data.txt" + scanner.next()));
            
        } catch (FileNotFoundException e) {
            JOptionPane.showMessageDialog(null, "This flight number does not exist!");
        }
        //Reading of the file begins
        try{
            //A while loop is used to read through every line of text using readLine method and to call variables initialised outside of the loop
            //This will loop as long as the file is not equal to null meaning that when it is not the loop will know that it is at the end of the line
            while((line=buffRead.readLine()) != null){
                //JOptionPane is called to display the contents of the file line by line
                JOptionPane.showMessageDialog(null, ""+line);
                
                    
            }
        } catch (IOException e) {
            System.out.println(e.getMessage() + " Error reading file");
        } 
    }//GEN-LAST:event_searchBtnActionPerformed

    private void adminLblMouseEntered(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_adminLblMouseEntered
        Font font = adminLbl.getFont();
        Map attributes = font.getAttributes();
        attributes.put(TextAttribute.UNDERLINE, TextAttribute.UNDERLINE_ON);
        adminLbl.setFont(font.deriveFont(attributes));
        adminLbl.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));
    }//GEN-LAST:event_adminLblMouseEntered

    private void adminLblMouseExited(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_adminLblMouseExited
        Font font = adminLbl.getFont();
        Map attributes = font.getAttributes();
        attributes.put(TextAttribute.UNDERLINE, -1);
        adminLbl.setFont(font.deriveFont(attributes));
    }//GEN-LAST:event_adminLblMouseExited

    private void adminLblMouseReleased(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_adminLblMouseReleased
        this.dispose();
        adminUI.setVisible(true);
    }//GEN-LAST:event_adminLblMouseReleased

    private void backBtnActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_backBtnActionPerformed
        // TODO add your handling code here:
        System.exit(0);
    }//GEN-LAST:event_backBtnActionPerformed

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JLabel adminLbl;
    private javax.swing.JButton backBtn;
    private javax.swing.JLabel instructionsLbl;
    private javax.swing.JButton searchBtn;
    private javax.swing.JTextField userIdFld;
    private javax.swing.JLabel welcomeLbl;
    // End of variables declaration//GEN-END:variables
}